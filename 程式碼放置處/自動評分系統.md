---
created: 2025-07-21 12:21
updated: 2025-07-22 15:40
---
1. é¡Œè™Ÿï¼ˆä¾†è‡ª ##### 114-2(79)ï¼‰
2. ç­”æ¡ˆï¼ˆä¾†è‡ª ç­”æ¡ˆï¼š[A-D]ï¼‰
3. ä½ çš„ä½œç­”ï¼ˆä¾†è‡ª æˆ‘çš„å›ç­”ï¼š å¾Œç¬¬ä¸€å€‹å‡ºç¾çš„ [A-D]ï¼Œå¯ä»¥æœ‰ç©ºæ ¼æˆ–æ˜¯å…¶ä»–æ–‡å­—ï¼Œç„¡ç­”æ¡ˆ"ABCD"è¨­ç‚ºæœªä½œç­”ï¼‰
4. æœƒå°‡æˆ‘çš„å›ç­”ï¼šé€™ä¸€è¡Œçš„æ‰€æœ‰æ–‡å­—é¡¯ç¤ºåœ¨åŸå§‹è¼¸å…¥

```dataviewjs
let file = app.workspace.getActiveFile();
if (!file) {
  dv.paragraph("âš ï¸ ç„¡æ³•å–å¾—ç›®å‰ç­†è¨˜æª”æ¡ˆã€‚è«‹åœ¨æœ‰æ•ˆç­†è¨˜ä¸­ä½¿ç”¨æ­¤å€å¡Šã€‚");
  return;
}

let text = await app.vault.read(file);
let lines = text.split("\n");

let results = [];
let current = null;

for (let line of lines) {
  let titleMatch = line.match(/^#####\s*\d+-\d+\((\d+)\)/);
  if (titleMatch) {
    if (current) results.push(current);
    current = { num: Number(titleMatch[1]), ans: null, mine: null, mineRaw: "" };
    continue;
  }

  if (!current) continue;

  let ansMatch = line.match(/^ç­”æ¡ˆï¼š([A-D])/);
  if (ansMatch) {
    current.ans = ansMatch[1];
    continue;
  }

  if (line.startsWith("æˆ‘çš„å›ç­”ï¼š")) {
    current.mineRaw = line.replace("æˆ‘çš„å›ç­”ï¼š", "").trim(); // ä¿ç•™æ•´æ®µ
    let directMatch = current.mineRaw.match(/([A-D])/);       // æŠ“å‡ºç¬¬ä¸€å€‹ Aâ€“D
    if (directMatch) {
      current.mine = directMatch[1];
    }
    continue;
  }
}

if (current) results.push(current); // âœ… æ­£ç¢ºä½ç½®ï¼šfor è¿´åœˆå¤–

// === è©•åˆ† ===
let score = 0;
let wrong = [];

for (let q of results) {
  if (q.ans && q.mine && q.ans === q.mine) {
    score += 1.25;
  } else {
    wrong.push(q.num);
  }
}

// === è¼¸å‡º ===
dv.paragraph(`ğŸ¯ **ç¸½åˆ†ï¼š${score.toFixed(2)} / ${(results.length * 1.25).toFixed(2)}**`);
if (wrong.length > 0) {
  dv.paragraph("âŒ ç­”éŒ¯æˆ–æœªå¡«çš„é¡Œè™Ÿï¼š" + wrong.join(", "));
} else {
  dv.paragraph("âœ… å…¨éƒ¨ç­”å°ï¼");
}

dv.table(["é¡Œè™Ÿ", "æ¨™æº–ç­”æ¡ˆ", "æˆ‘çš„ä½œç­”", "åŸå§‹è¼¸å…¥"],
  results.map(q => [
    q.num,
    q.ans ?? "â“",
    q.mine ?? "â“" + (q.mine === null ? "ï¼ˆæœªä½œç­”ï¼‰" : ""),
    q.mineRaw || "ï¼ˆç„¡å…§å®¹ï¼‰"
  ])
);

```